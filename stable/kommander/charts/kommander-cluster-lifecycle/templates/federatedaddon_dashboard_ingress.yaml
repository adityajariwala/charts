---
apiVersion: types.kubefed.io/v1beta1
kind: FederatedAddon
metadata:
  name: dashboard-kommander-override
  namespace: kubeaddons
spec:
  placement:
    clusterSelector:
      matchLabels: {}
  template:
    metadata:
      namespace: kubeaddons
      labels:
        kubeaddons.mesosphere.io/name: dashboard-kommander-override
    spec:
      chartReference:
        chart: generic-ingress
        repo: https://mesosphere.github.io/charts/staging
        version: 0.1.0
        values: |
          ---
          fullnameOverride: dashboard-kommander-override
          ingress:
            enabled: true
            annotations:
              kubernetes.io/ingress.class: traefik
              traefik.frontend.rule.type: PathPrefixStrip
              traefik.ingress.kubernetes.io/priority: "3"
              traefik.ingress.kubernetes.io/auth-type: forward
              traefik.ingress.kubernetes.io/auth-url: http://traefik-forward-auth-kommander-kubeaddons.kommander-system.svc.cluster.local:4181/
              traefik.ingress.kubernetes.io/auth-response-headers: X-Forwarded-User,Authorization,Impersonate-User,Impersonate-Group
            paths:
              - backend:
                  serviceName: kubernetes-dashboard
                  servicePort: 9090
                path: /ops/portal/kubernetes
      cloudProvider:
      - enabled: true
        name: aws
      - enabled: true
        name: azure
      - enabled: true
        name: docker
      - enabled: true
        name: none
      kubernetes:
        minSupportedVersion: v1.15.0
      requires:
      - matchLabels:
          kubeaddons.mesosphere.io/provides: ingresscontroller
